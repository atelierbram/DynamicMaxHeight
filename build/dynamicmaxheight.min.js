/*! DynamicMaxHeight 0.0.1 - Dynamic max height plugin with CSS animation | (c) 2016 Pedro RogÃ©rio | MIT License */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.DynamicMaxHeight=b()}(this,function(){"use strict";var a=function(b){return this&&this instanceof a?(b||(b={}),this.selector=document.querySelectorAll(b.selector),void this.run()):new a(b)};return a.prototype={run:function(){this.heightControl()},hasClass:function(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},addClass:function(a,b){this.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},removeClass:function(a,b){this.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},toggleClass:function(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}else a.className+=" "+b},createEls:function(a,b,c){var d,e=document.createElement(a);for(d in b)b.hasOwnProperty(d)&&(e[d]=b[d]);return c&&e.appendChild(document.createTextNode(c)),e},heightControl:function(){Array.prototype.forEach.call(this.selector,function(a){var b=a.getAttribute("data-maxheight"),c=a.firstElementChild.offsetHeight;a.setAttribute("data-itemheight",c),c>b&&(this.addClass(a,"height-active"),this.showMoreShowLess(a,c,b),a.firstElementChild.style.maxHeight=b+"px")}.bind(this))},showMoreShowLess:function(a,b,c){var d,e;e=this.hasClass(a,"height-active")?"Read more":"Show less",d=this.createEls("a",{className:"dynamic-show-more",href:"#",title:e},e),a.appendChild(d),a.addEventListener("click",function(d){d.preventDefault(),d.target&&"A"===d.target.nodeName&&"dynamic-show-more"===d.target.className&&(this.hasClass(a,"height-active")?(d.target.textContent="Show less",a.firstElementChild.style.maxHeight=b+"px"):(d.target.textContent="Read more",a.firstElementChild.style.maxHeight=c+"px"),this.toggleClass(a,"height-active"))}.bind(this),!1)}},a});